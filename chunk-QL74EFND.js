import{b as k0,e as y0,h as N}from"./chunk-3Y2CTNIX.js";import{a as P0}from"./chunk-KZ6DIK66.js";import{a as O}from"./chunk-7K6BSSWF.js";import{$a as T,Aa as c,Da as g0,Ga as M,H as h0,Ib as R,Jb as L0,M as s0,Nb as b0,P as g,Pa as J,Q as K,Qa as a0,R as h,Ra as m0,Sa as E,Ta as D,Ua as v,V as c0,Va as i,W as y,Wa as n,X as P,Xa as f,Ya as w,Z as v0,Za as m,_a as f0,a as S,ab as e0,b as i0,bb as p,c as Q,cb as Z0,db as A,eb as x0,gb as l0,hb as d,ib as b,ja as p0,jb as Z,kb as M0,lb as C0,m as k,mb as S0,na as u0,nb as H,o as n0,ob as A0,pb as I,q as d0,qa as _,qb as H0,sa as r,va as w0,vb as V0,wb as B0,x as Y,xb as V}from"./chunk-ASW2YE55.js";var z=class l{static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-hero"]],decls:7,vars:0,consts:[[1,"w-full","bg-black","relative","overflow-hidden","h-[60vh]","rounded-2xl"],["src","/images/banner.jpg","alt","",1,"object-cover"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black/50","text-white","flex","flex-col","gap-4","items-center","justify-center"],[1,"text-6xl","uppercase","font-semibold"],[1,"w-2/3","mx-auto","text-center"]],template:function(t,e){t&1&&(w(0,"section",0),f0(1,"img",1),w(2,"div",2)(3,"h1",3),d(4," Hub High-Tech "),m(),w(5,"h2",4),d(6," Hub HighTech \u2014 votre e\u2011commerce pour smartphones, PC, gaming et accessoires, avec prix justes, livraison rapide et support expert. "),m()()())},encapsulation:2})};var F=class l{transform(a,t="label"){let e=a??0;return t==="class"?e===0?"text-red-600":e<10?"text-amber-600":"text-green-600":e===0?"Rupture de stock":e<10?"Stock limit\xE9":"En stock"}static \u0275fac=function(t){return new(t||l)};static \u0275pipe=g0({name:"stockStatus",type:l,pure:!0})};var C5=new g("Ng Glyph Config");var S5=new g("NgGlyphsToken");function T0(l){return l==null?"":/^\d+$/.test(l)?`${l}px`:l}var I0=new g("Ng Icon Pre Processor"),R0=new g("Ng Icon Post Processor");function N0(){return h(I0,{optional:!0})??(l=>l)}function O0(){return h(R0,{optional:!0})??(()=>{})}var z0=new g("Ng Icon Logger"),t0=class{log(a){console.log(a)}warn(a){console.warn(a)}error(a){console.error(a)}};function F0(){return h(z0,{optional:!0})??new t0}var U0=new g("Ng Icon Config");function j0(){return h(U0,{optional:!0})??{}}var G0=new g("Ng Icon Loader Token");var q0=new g("Ng Icon Cache Token");function $0(){return h(G0,{optional:!0})}function W0(){return h(q0,{optional:!0})}function _0(l){return[{provide:o0,useFactory:(a=h(o0,{optional:!0,skipSelf:!0}))=>S(S({},a?.reduce((t,e)=>S(S({},t),e),{})),l),multi:!0}]}var o0=new g("Icons Token");function X0(){return h(o0,{optional:!0})??[]}function Q0(l){return typeof l=="string"?Promise.resolve(l):n0(l)?l.toPromise():l}function Y0(l){return l.replace(/([^a-zA-Z0-9])+(.)?/g,(a,t,e)=>e?e.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,a=>a.toLowerCase())}var K0=0,E0=(()=>{let a=class a{constructor(){this.config=j0(),this.icons=X0(),this.loader=$0(),this.cache=W0(),this.preProcessor=N0(),this.postProcessor=O0(),this.injector=h(v0),this.renderer=h(w0),this.platform=h(u0),this.elementRef=h(p0),this.uniqueId=K0++,this.logger=F0(),this.name=V(),this.svg=V(),this.size=V(this.config.size,{transform:T0}),this.strokeWidth=V(this.config.strokeWidth),this.color=V(this.config.color),V0(()=>this.updateIcon()),h(new B0("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return Q(this,null,function*(){let e=this.name(),o=this.svg();if(o!==void 0){this.setSvg(o);return}if(e===void 0)return;let s=Y0(e);for(let u of[...this.icons].reverse())if(u[s]){this.setSvg(u[s]);return}if(this.loader){let u=yield this.requestIconFromLoader(e);if(u!==null){this.setSvg(u);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)})}setSvg(e){if(b0(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let o=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(o,"innerHTML",this.preProcessor(e)),this.svgElement=o.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let o=/ID_PLACEHOLDER_(\d+)/g,s=new Map,u=new Set(e.match(o));if(u===null)return e;for(let C of u){let X=C.replace("ID_PLACEHOLDER_",""),r0=`ng-icon-${this.uniqueId}-${s.size}`;s.set(X,r0),e=e.replace(new RegExp(C,"g"),r0)}return e}requestIconFromLoader(e){return new Promise(o=>{c0(this.injector,()=>Q(this,null,function*(){if(this.cache){let C=this.cache.get(e);if(typeof C=="string"){o(C);return}if(C instanceof Promise){let X=yield C;o(X);return}}let s=Q0(this.loader(e));this.cache?.set(e,s);let u=yield s;this.cache?.set(e,u),o(u)}))})}};a.\u0275fac=function(o){return new(o||a)},a.\u0275cmp=c({type:a,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(o,s){o&2&&x0("--ng-icon__stroke-width",s.strokeWidth())("--ng-icon__size",s.size())("--ng-icon__color",s.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(o,s){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0});let l=a;return l})();var D0='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"></path></svg>';var U=class l{liked;likedChange=new M;setLike(){this.likedChange.emit(!this.liked),console.log(this.liked)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-like-button"]],inputs:{liked:"liked"},outputs:{likedChange:"likedChange"},features:[S0([_0({heroHeartSolid:D0})])],decls:2,vars:1,consts:[[1,"hover:opacity-50","cursor-pointer",3,"click"],["name","heroHeartSolid",3,"color"]],template:function(t,e){t&1&&(i(0,"button",0),p("click",function(){return e.setLike()}),f(1,"ng-icon",1),n()),t&2&&(r(),v("color",e.liked?"red":"lightgray"))},dependencies:[E0],encapsulation:2})};var j=class l{product;like=new M;onLikeClick(){this.like.emit(this.product.id)}cartService=h(O);onAddToCart(a){this.cartService.add(a)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-product-list-item"]],inputs:{product:"product"},outputs:{like:"like"},decls:19,vars:20,consts:[[1,"w-full","flex","flex-col","p-4","bg-slate-100","rounded-2xl","shadow-lg","gap-3"],[1,"flex","w-full","justify-between"],[1,"text-xs","font-semibold"],[3,"likedChange","liked"],["alt","",1,"w-full","aspect-video","object-contain","bg-stone-200/60","rounded-2xl",3,"src"],[1,"text-xs"],[1,"text-sm","font-medium","text-stone-700","mt-2"],[1,"btn","bg-black","text-white","hover:opacity-80","cursor-pointer",3,"click"],[1,"underline","hover:opacity-80","text-sm","font-semibold",3,"routerLink"]],template:function(t,e){t&1&&(i(0,"li",0)(1,"div",1)(2,"span",2),d(3),n(),i(4,"app-like-button",3),p("likedChange",function(){return e.onLikeClick()}),n()(),f(5,"img",4),i(6,"span",5),H(7,"stockStatus"),d(8),H(9,"stockStatus"),n(),i(10,"strong"),d(11),n(),i(12,"span",6),d(13),H(14,"currency"),n(),i(15,"button",7),p("click",function(){return e.onAddToCart(e.product)}),d(16," Ajouter au panier"),n(),i(17,"a",8),d(18,"D\xE9tails"),n()()),t&2&&(r(3),Z(" ",e.product.category," "),r(),v("liked",e.product.liked),r(),v("src",e.product.image||"/images/no-image.png",_),r(),l0(I(7,10,e.product.stock,"class")),r(2),Z(`
`,A0(9,13,e.product.stock)," "),r(3),Z(" ",e.product.title,`
`),r(2),Z(" ",H0(14,15,e.product.price,"EUR","symbol","0.2-2")," "),r(4),v("routerLink",C0("/product/",e.product.id)))},dependencies:[L0,U,N,R,F],encapsulation:2})};var J0=(l,a)=>a.id;function a5(l,a){if(l&1){let t=T();i(0,"app-product-list-item",2),p("like",function(o){y(t);let s=A();return P(s.likedToggled.emit(o))}),n()}if(l&2){let t=a.$implicit;v("product",t)}}var G=class l{products;likedToggled=new M;static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-product-list"]],inputs:{products:"products"},outputs:{likedToggled:"likedToggled"},decls:3,vars:0,consts:[[1,"grid","grid-cols-4","gap-6"],[3,"product"],[3,"like","product"]],template:function(t,e){t&1&&(i(0,"ul",0),E(1,a5,1,1,"app-product-list-item",1,J0),n()),t&2&&(r(),D(e.products))},dependencies:[j],encapsulation:2})};function e5(l,a){if(l&1&&(w(0,"li")(1,"button",5),d(2),m()()),l&2){let t=a.$implicit;r(2),Z(" ",t," ")}}var q=class l{likedCount;categories;availableChecked;availableCheckedChange=new M;onAvailableCheckedChange(a){let t=a.target.checked;this.availableCheckedChange.emit(t)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-filter-section"]],inputs:{likedCount:"likedCount",categories:"categories",availableChecked:"availableChecked"},outputs:{availableCheckedChange:"availableCheckedChange"},decls:13,vars:2,consts:[[1,"flex","justify-between","gap-2"],[1,"flex","gap-1"],[1,"inline-flex","items-center","gap-2","select-none"],["type","checkbox",3,"change","checked"],[1,"flex","gap-2","items-center"],[1,"bg-black","justify-center","cursor-pointer","text-white","rounded-full","py-1","px-3","capitalize","text-sm","hover:opacity-80"]],template:function(t,e){t&1&&(w(0,"div",0)(1,"div",1)(2,"span"),d(3," Total likes: "),m(),w(4,"span"),d(5),m()(),w(6,"label",2)(7,"input",3),Z0("change",function(s){return e.onAvailableCheckedChange(s)}),m(),w(8,"span"),d(9,"Seulement disponibles"),m()(),w(10,"ul",4),E(11,e5,3,1,"li",null,m0),m()()),t&2&&(r(5),b(e.likedCount),r(2),e0("checked",e.availableChecked),r(4),D(e.categories))},encapsulation:2})};var L=class l{constructor(a){this.http=a}baseUrl="https://fakestoreapi.com/products";getAll(){return this.http.get(this.baseUrl).pipe(Y(a=>(console.error("getAll() failed:",a),k([]))))}getOne(a){return Number.isNaN(a)?k(null):this.http.get(`${this.baseUrl}/${a}`).pipe(Y(t=>(console.error(`getOne(${a}) failed:`,t),k(null))))}static \u0275fac=function(t){return new(t||l)(K(k0))};static \u0275prov=s0({token:l,factory:l.\u0275fac,providedIn:"root"})};var $=class l{service=h(L);products=[];filteredProducts=[];onlyAvailable=!1;ngOnInit(){this.service.getAll().subscribe({next:a=>{this.products=a,this.filteredProducts=a,console.log(a)},error:a=>{console.error("load products failed",a),this.products=[],this.filteredProducts=[]}})}get categories(){return["all",...Array.from(new Set(this.products.map(a=>a.category)))]}get likedCount(){return this.products.filter(a=>a.liked).length}onLikedToggled(a){this.products=this.products.map(t=>t.id===a?i0(S({},t),{liked:!t.liked}):t),this.filteredProducts=this.onlyAvailable?this.products.filter(t=>t.stock>0):this.products}get availableProduct(){return this.filteredProducts.filter(a=>a.stock>0)}onOnlyAvailableChange(a){this.onlyAvailable=a,this.filteredProducts=this.onlyAvailable?this.availableProduct:this.products}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-home"]],decls:4,vars:4,consts:[[1,"flex","flex-col","gap-6","w-full"],[3,"availableCheckedChange","likedCount","categories","availableChecked"],[3,"likedToggled","products"]],template:function(t,e){t&1&&(i(0,"div",0),f(1,"app-hero"),i(2,"app-filter-section",1),p("availableCheckedChange",function(s){return e.onOnlyAvailableChange(s)}),n(),i(3,"app-product-list",2),p("likedToggled",function(s){return e.onLikedToggled(s)}),n()()),t&2&&(r(2),v("likedCount",e.likedCount)("categories",e.categories)("availableChecked",e.onlyAvailable),r(),v("products",e.filteredProducts))},dependencies:[z,G,q],encapsulation:2})};function l5(l,a){l&1&&(i(0,"div",1),f(1,"div",2)(2,"div",3)(3,"div",4),n())}function t5(l,a){l&1&&(i(0,"div",5),d(1," Produit introuvable. "),n())}function o5(l,a){if(l&1){let t=T();i(0,"section",6)(1,"div",7),f(2,"img",8),n(),i(3,"div",9)(4,"h1",10),d(5),n(),i(6,"p",11),d(7),n(),i(8,"div",12),d(9),H(10,"currency"),n(),i(11,"div",13)(12,"button",14),p("click",function(){y(t);let o=A(2);return P(o.addToCart(o.product()))}),d(13," Ajouter au panier "),n(),i(14,"a",15),d(15," Continuer vos achats "),n()()()()}if(l&2){let t,e=A(2);r(2),v("alt",M0(e.product().title))("src",(t=e.product())==null?null:t.image,_),r(3),b(e.product().title),r(2),b(e.product().description),r(2),Z(" ",I(10,6,e.product().price,"EUR")," ")}}function r5(l,a){if(l&1&&J(0,t5,2,0,"div",5)(1,o5,16,9,"section",6),l&2){let t=A();a0(t.product()===null?0:1)}}var W=class l{route=h(y0);products=h(L);cart=h(O);product$=this.route.paramMap.pipe(d0(a=>Number(a.get("id"))),h0(a=>this.products.getOne(a)));product=P0(this.product$,{initialValue:void 0});addToCart(a){this.cart.add(a)}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=c({type:l,selectors:[["app-product-detail"]],decls:4,vars:1,consts:[["routerLink","/hub",1,"inline-flex","items-center","gap-2","text-sm","text-blue-600","hover:underline","mb-4"],[1,"animate-pulse"],[1,"h-6","w-48","bg-gray-200","rounded","mb-3"],[1,"h-4","w-72","bg-gray-200","rounded","mb-2"],[1,"h-4","w-64","bg-gray-200","rounded"],[1,"p-4","rounded","border","border-red-200","bg-red-50","text-red-700"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"border","rounded-xl","p-4"],["width","600","height","600",1,"w-full","h-auto","object-contain","rounded-lg",3,"src","alt"],[1,"flex","flex-col","gap-4"],[1,"text-2xl","font-semibold"],[1,"text-gray-600"],[1,"text-xl","font-bold"],[1,"flex","gap-3"],[1,"px-4","py-2","rounded-lg","bg-blue-600","text-white","hover:bg-blue-700",3,"click"],["routerLink","/hub",1,"px-4","py-2","rounded-lg","border","border-gray-300","hover:bg-gray-50"]],template:function(t,e){t&1&&(i(0,"a",0),d(1,` \u2190 Retour
`),n(),J(2,l5,4,0,"div",1)(3,r5,2,1)),t&2&&(r(2),a0(e.product()===void 0?2:3))},dependencies:[N,R],encapsulation:2})};var V1=[{path:"",component:$,title:"Accueil - Hub Market"},{path:"product/:id",component:W,title:"Produit - Hub Market"}];export{V1 as SHOP_ROUTES};
