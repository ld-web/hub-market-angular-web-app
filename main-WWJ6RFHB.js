import{a as g}from"./chunk-WHXJ6GBK.js";import{a as z,c as K,d as Z,f as s,g as J,h,i as Q}from"./chunk-3Y2CTNIX.js";import{a as W}from"./chunk-7K6BSSWF.js";import{$a as F,Aa as n,Gb as $,Hb as G,Jb as V,Pa as T,Qa as H,R as m,Va as i,W as E,Wa as r,X as M,Xa as a,Ya as I,Za as R,bb as P,ca as N,da as _,db as w,hb as p,jb as f,nb as y,ob as O,pb as B,q as L,sa as l,sb as U,ub as j}from"./chunk-ASW2YE55.js";var x=class e{today=new Date;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-footer"]],decls:3,vars:4,consts:[[1,"mt-10","border-t","text-center","text-sm","text-gray-200","bg-black","py-5"]],template:function(t,c){t&1&&(I(0,"footer",0),p(1),y(2,"date"),R()),t&2&&(l(),f(" Hub HighTech \u2014 \xA9 ",B(2,1,c.today,"yyyy"),` \u2022 Tous droits r\xE9serv\xE9s
`))},dependencies:[V,G],encapsulation:2})};var v=class e{cartService=m(W);count$=this.cartService.cart$.pipe(L(o=>o.length));static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-cart-badge"]],decls:3,vars:3,consts:[["routerLink","/cart",1,"cart-badge","hover:opacity-80"]],template:function(t,c){t&1&&(i(0,"a",0),p(1),y(2,"async"),r()),t&2&&(l(),f(" \u{1F6D2} ",O(2,1,c.count$)," "))},dependencies:[h,$],styles:[".cart-badge[_ngcontent-%COMP%]{background:#222;color:#fff;padding:.4rem .8rem;border-radius:999px;font-weight:700;display:inline-block;min-width:40px;text-align:center}"]})};var C=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-nav"]],decls:2,vars:0,consts:[[1,"flex","items-center","gap-3","text-sm"]],template:function(t,c){t&1&&(i(0,"nav",0),a(1,"app-cart-badge"),r())},dependencies:[v],encapsulation:2})};function oe(e,o){e&1&&(i(0,"div",4)(1,"a",6),p(2,"Connexion"),r(),i(3,"a",7),p(4,"Inscription"),r()())}function ne(e,o){if(e&1){let t=F();i(0,"div",5)(1,"button",8),p(2),r(),i(3,"button",9),P("click",function(){E(t);let te=w();return M(te.logout())}),p(4," D\xE9connexion "),r()()}if(e&2){let t=w();l(2),f(" ",t.initial()," ")}}var b=class e{auth=m(g);isAuth=this.auth.isAuthenticated;user=this.auth.user;initial=j(()=>this.user()?.name?.charAt(0).toUpperCase()??"?");logout(){this.auth.logout()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-header"]],decls:8,vars:1,consts:[[1,"sticky","top-0","z-10","border-b","border-slate-200","bg-black/80","backdrop-blur","text-white"],[1,"mx-auto","flex","max-w-5xl","items-center","justify-between","px-4","py-3"],["routerLink","/",1,"text-lg","font-semibold","uppercase"],[1,"flex","gap-3"],[1,"flex","items-center","gap-3","text-sm"],[1,"relative","flex","gap-2"],["routerLink","/login",1,"hover:underline"],["routerLink","/register",1,"hover:underline"],["type","button",1,"w-9","h-9","rounded-full","bg-gray-800","text-white","flex","items-center","justify-center","font-bold"],[1,"text-sm","px-3","py-1.5","rounded-md","border","hover:opacity-50","text-xs","opacity-80",3,"click"]],template:function(t,c){t&1&&(i(0,"header",0)(1,"div",1)(2,"a",2),p(3,"Hub Market"),r(),i(4,"div",3),T(5,oe,5,0,"div",4)(6,ne,5,1,"div",5),a(7,"app-nav"),r()()()),t&2&&(l(5),H(c.isAuth()?6:5))},dependencies:[h,C],styles:[`@layer components{.nav-active[_ngcontent-%COMP%]{text-decoration-line:underline;text-decoration-thickness:2px;text-underline-offset:4px}}

`]})};var k=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-shop-layout"]],decls:4,vars:0,consts:[[1,"flex","flex-col","flex-1","w-11/12","mx-auto"]],template:function(t,c){t&1&&(a(0,"app-header"),i(1,"main",0),a(2,"router-outlet"),r(),a(3,"app-footer"))},dependencies:[s,b,x],encapsulation:2})};var D=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-auth-layout"]],decls:1,vars:0,template:function(t,c){t&1&&a(0,"router-outlet")},dependencies:[s],encapsulation:2})};var A=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-checkout-layout"]],decls:4,vars:0,consts:[[1,"bg-black","p-4","text-white"],["routerLink","/",1,"uppercase","text-lg","font-bold","hover:opacity-80"]],template:function(t,c){t&1&&(i(0,"header",0)(1,"a",1),p(2,"Hub market"),r()(),a(3,"router-outlet"))},dependencies:[s,h],encapsulation:2})};var X=()=>{let e=m(g),o=m(J);return e.isAuthenticated()?!0:(o.navigateByUrl("/login"),!1)};var Y=[{path:"",component:k,children:[{path:"",loadChildren:()=>import("./chunk-QL74EFND.js").then(e=>e.SHOP_ROUTES)}]},{path:"",component:D,children:[{path:"",loadChildren:()=>import("./chunk-5CMZFYOO.js").then(e=>e.AUTH_ROUTES)}]},{path:"cart",component:A,canActivate:[X],children:[{path:"",loadChildren:()=>import("./chunk-DXL7XQ6A.js").then(e=>e.CHECKOUT_ROUTES)}]},{path:"**",redirectTo:""}];var q=(e,o)=>{let t=localStorage.getItem("auth_token");return t&&(e=e.clone({setHeaders:{Authorization:`Bearer ${t}`}})),o(e)};var ee={providers:[N(),U({eventCoalescing:!0}),Q(Y),K(Z([q]))]};var S=class e{title=_("hub-market-angular-web-app");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=n({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,c){t&1&&a(0,"router-outlet")},dependencies:[s],encapsulation:2})};z(S,ee).catch(e=>console.error(e));
