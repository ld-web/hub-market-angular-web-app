import{a as B}from"./chunk-KZ6DIK66.js";import{a as U}from"./chunk-7K6BSSWF.js";import{$a as b,Aa as x,Ga as k,Ib as C,Pa as s,Qa as f,R as w,Sa as P,Ta as T,Ua as R,Va as a,W as y,Wa as c,X as h,Ya as d,Za as l,_a as V,ab as M,bb as S,cb as D,db as p,hb as n,ib as u,nb as _,pb as v,qa as I,sa as r,ub as N}from"./chunk-ASW2YE55.js";function j(e,i){if(e&1&&V(0,"img",2),e&2){let t=p();M("src",t.product.image,I)("alt",t.product.title||"Produit")}}function H(e,i){e&1&&(d(0,"div",3),n(1,"Pas d\u2019image"),l())}function L(e,i){if(e&1&&(d(0,"p",6),n(1),l()),e&2){let t=p();r(),u(t.product.description)}}var g=class e{product;remove=new k;onRemove(){this.remove.emit(this.product)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-cart-item"]],inputs:{product:"product"},outputs:{remove:"remove"},decls:14,vars:7,consts:[[1,"w-full","border","rounded-xl","p-3","md:p-4","flex","gap-3","md:gap-4"],[1,"w-20","h-20","md:w-24","md:h-24","shrink-0","overflow-hidden","rounded-md","bg-gray-100"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","grid","place-items-center","text-gray-400","text-xs"],[1,"flex-1","min-w-0"],[1,"font-medium","truncate"],[1,"text-sm","text-gray-500","line-clamp-2"],[1,"mt-2","font-semibold"],[1,"flex","flex-col","items-end","gap-2"],["type","button",1,"px-3","py-1.5","rounded-md","border","text-sm","hover:bg-gray-50",3,"click"]],template:function(t,o){t&1&&(d(0,"article",0)(1,"div",1),s(2,j,1,2,"img",2)(3,H,2,0,"div",3),l(),d(4,"div",4)(5,"h3",5),n(6),l(),s(7,L,2,1,"p",6),d(8,"div",7),n(9),_(10,"currency"),l()(),d(11,"div",8)(12,"button",9),D("click",function(){return o.onRemove()}),n(13," Supprimer "),l()()()),t&2&&(r(2),f(o.product.image?2:3),r(4),u(o.product.title),r(),f(o.product.description?7:-1),r(2),u(v(10,4,o.product.price,"EUR")))},dependencies:[C],encapsulation:2})};function z(e,i){return this.trackById(i)}function K(e,i){e&1&&(a(0,"div",2),n(1,"Votre panier est vide."),c())}function q(e,i){if(e&1){let t=b();a(0,"app-cart-item",11),S("remove",function(m){y(t);let F=p(2);return h(F.onRemove(m))}),c()}if(e&2){let t=i.$implicit;R("product",t)}}function A(e,i){if(e&1){let t=b();a(0,"div",3),P(1,q,1,1,"app-cart-item",4,z,!0),c(),a(3,"div",5)(4,"div",6),n(5," Total : "),a(6,"span",7),n(7),_(8,"currency"),c()(),a(9,"div",8)(10,"button",9),S("click",function(){y(t);let m=p();return h(m.clear())}),n(11," Vider le panier "),c(),a(12,"a",10),n(13," Passer au paiement "),c()()()}if(e&2){let t=p();r(),T(t.cart()),r(6),u(v(8,1,t.total(),"EUR"))}}var E=class e{cartService=w(U);cart=B(this.cartService.cart$,{initialValue:void 0});total=N(()=>this.cart()?.reduce((i,t)=>i+(t.price??0),0));onRemove(i){this.cartService.remove(i)}clear(){this.cartService.clear()}trackById=i=>i.id;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-cart"]],decls:5,vars:1,consts:[[1,"max-w-5xl","mx-auto","p-4","md:p-6"],[1,"text-2xl","md:text-3xl","font-bold","mb-6"],[1,"text-gray-500"],[1,"grid","gap-4"],[3,"product"],[1,"mt-6","flex","flex-col","items-end","gap-3"],[1,"text-lg"],[1,"font-semibold"],[1,"flex","gap-3"],["type","button",1,"px-4","py-2","rounded-md","border","hover:bg-gray-50",3,"click"],["routerLink","/checkout",1,"px-4","py-2","rounded-md","bg-black","text-white","hover:opacity-90"],[3,"remove","product"]],template:function(t,o){if(t&1&&(a(0,"section",0)(1,"h1",1),n(2,"Mon panier"),c(),s(3,K,2,0,"div",2)(4,A,14,4),c()),t&2){let m;r(3),f(((m=o.cart())==null?null:m.length)===0?3:4)}},dependencies:[g,C],encapsulation:2})};var ct=[{path:"",component:E,title:"Mon Panier - Hub Market"}];export{ct as CHECKOUT_ROUTES};
